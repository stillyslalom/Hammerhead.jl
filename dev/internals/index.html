<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Internals · Hammerhead.jl</title><meta name="title" content="Internals · Hammerhead.jl"/><meta property="og:title" content="Internals · Hammerhead.jl"/><meta property="twitter:title" content="Internals · Hammerhead.jl"/><meta name="description" content="Documentation for Hammerhead.jl."/><meta property="og:description" content="Documentation for Hammerhead.jl."/><meta property="twitter:description" content="Documentation for Hammerhead.jl."/><meta property="og:url" content="https://stillyslalom.github.io/Hammerhead.jl/internals/"/><meta property="twitter:url" content="https://stillyslalom.github.io/Hammerhead.jl/internals/"/><link rel="canonical" href="https://stillyslalom.github.io/Hammerhead.jl/internals/"/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">Hammerhead.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../function_ref/">Function Reference</a></li><li class="is-active"><a class="tocitem" href>Internals</a><ul class="internal"><li><a class="tocitem" href="#Internals"><span>Internals</span></a></li><li><a class="tocitem" href="#Synthetic-Data"><span>Synthetic Data</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Internals</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Internals</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/stillyslalom/Hammerhead.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/stillyslalom/Hammerhead.jl/blob/main/docs/src/internals.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h2 id="Internals"><a class="docs-heading-anchor" href="#Internals">Internals</a><a id="Internals-1"></a><a class="docs-heading-anchor-permalink" href="#Internals" title="Permalink"></a></h2><ul><li><a href="../function_ref/#Hammerhead.SyntheticData"><code>Hammerhead.SyntheticData</code></a></li><li><a href="../function_ref/#Hammerhead.Validators"><code>Hammerhead.Validators</code></a></li><li><a href="#Hammerhead.AbstractReplacementMethod"><code>Hammerhead.AbstractReplacementMethod</code></a></li><li><a href="#Hammerhead.CorrelationMomentValidator"><code>Hammerhead.CorrelationMomentValidator</code></a></li><li><a href="#Hammerhead.DelaunayBarycentric"><code>Hammerhead.DelaunayBarycentric</code></a></li><li><a href="#Hammerhead.HoleRegion"><code>Hammerhead.HoleRegion</code></a></li><li><a href="#Hammerhead.InverseDistanceWeighted"><code>Hammerhead.InverseDistanceWeighted</code></a></li><li><a href="#Hammerhead.IterativeMedian"><code>Hammerhead.IterativeMedian</code></a></li><li><a href="#Hammerhead.LocalMedianValidator"><code>Hammerhead.LocalMedianValidator</code></a></li><li><a href="#Hammerhead.LocalValidator"><code>Hammerhead.LocalValidator</code></a></li><li><a href="#Hammerhead.NeighborhoodValidator"><code>Hammerhead.NeighborhoodValidator</code></a></li><li><a href="#Hammerhead.NormalizedResidualValidator"><code>Hammerhead.NormalizedResidualValidator</code></a></li><li><a href="../function_ref/#Hammerhead.PIVResult"><code>Hammerhead.PIVResult</code></a></li><li><a href="../function_ref/#Hammerhead.PIVStage"><code>Hammerhead.PIVStage</code></a></li><li><a href="#Hammerhead.PIVStageCache-Union{Tuple{PIVStage}, Tuple{T}, Tuple{PIVStage, Type{T}}} where T"><code>Hammerhead.PIVStageCache</code></a></li><li><a href="#Hammerhead.PIVStageCache"><code>Hammerhead.PIVStageCache</code></a></li><li><a href="#Hammerhead.PIVValidator"><code>Hammerhead.PIVValidator</code></a></li><li><a href="../function_ref/#Hammerhead.PIVVector"><code>Hammerhead.PIVVector</code></a></li><li><a href="#Hammerhead.PeakRatioValidator"><code>Hammerhead.PeakRatioValidator</code></a></li><li><a href="../function_ref/#Hammerhead.SyntheticData.GaussianLaserSheet"><code>Hammerhead.SyntheticData.GaussianLaserSheet</code></a></li><li><a href="../function_ref/#Hammerhead.SyntheticData.LaserSheet"><code>Hammerhead.SyntheticData.LaserSheet</code></a></li><li><a href="../function_ref/#Hammerhead.SyntheticData.ParticleField3D"><code>Hammerhead.SyntheticData.ParticleField3D</code></a></li><li><a href="../function_ref/#Hammerhead.Validators.CorrelationMoment"><code>Hammerhead.Validators.CorrelationMoment</code></a></li><li><a href="../function_ref/#Hammerhead.Validators.LocalMedian"><code>Hammerhead.Validators.LocalMedian</code></a></li><li><a href="../function_ref/#Hammerhead.Validators.NormalizedResidual"><code>Hammerhead.Validators.NormalizedResidual</code></a></li><li><a href="../function_ref/#Hammerhead.Validators.PeakRatio"><code>Hammerhead.Validators.PeakRatio</code></a></li><li><a href="../function_ref/#Hammerhead.Validators.VelocityMagnitude"><code>Hammerhead.Validators.VelocityMagnitude</code></a></li><li><a href="#Hammerhead.VectorMedian"><code>Hammerhead.VectorMedian</code></a></li><li><a href="#Hammerhead.VelocityMagnitudeValidator"><code>Hammerhead.VelocityMagnitudeValidator</code></a></li><li><a href="../function_ref/#Hammerhead.PIVStages-Tuple{Int64, Int64}"><code>Hammerhead.PIVStages</code></a></li><li><a href="#Hammerhead.SyntheticData.displace_particles"><code>Hammerhead.SyntheticData.displace_particles</code></a></li><li><a href="../function_ref/#Hammerhead.SyntheticData.displace_particles!"><code>Hammerhead.SyntheticData.displace_particles!</code></a></li><li><a href="../function_ref/#Hammerhead.SyntheticData.generate_gaussian_particle!-Union{Tuple{T}, Tuple{AbstractMatrix{T}, Tuple{Real, Real}, Real}, Tuple{AbstractMatrix{T}, Tuple{Real, Real}, Real, Real}} where T&lt;:Real"><code>Hammerhead.SyntheticData.generate_gaussian_particle!</code></a></li><li><a href="../function_ref/#Hammerhead.SyntheticData.generate_particle_field-Tuple{Tuple{Int64, Int64}, Real}"><code>Hammerhead.SyntheticData.generate_particle_field</code></a></li><li><a href="../function_ref/#Hammerhead.SyntheticData.generate_synthetic_piv_pair-Tuple{Any, Tuple{Int64, Int64}, Real}"><code>Hammerhead.SyntheticData.generate_synthetic_piv_pair</code></a></li><li><a href="#Hammerhead.SyntheticData.laser_intensity-Tuple{Hammerhead.SyntheticData.GaussianLaserSheet, Real}"><code>Hammerhead.SyntheticData.laser_intensity</code></a></li><li><a href="../function_ref/#Hammerhead.SyntheticData.linear_flow-NTuple{7, Any}"><code>Hammerhead.SyntheticData.linear_flow</code></a></li><li><a href="../function_ref/#Hammerhead.SyntheticData.render_particle_image-Tuple{Hammerhead.SyntheticData.ParticleField3D, Tuple{Int64, Int64}, Hammerhead.SyntheticData.LaserSheet}"><code>Hammerhead.SyntheticData.render_particle_image</code></a></li><li><a href="../function_ref/#Hammerhead.SyntheticData.shear_flow"><code>Hammerhead.SyntheticData.shear_flow</code></a></li><li><a href="../function_ref/#Hammerhead.SyntheticData.vortex_flow"><code>Hammerhead.SyntheticData.vortex_flow</code></a></li><li><a href="#Hammerhead.analyze_correlation_plane"><code>Hammerhead.analyze_correlation_plane</code></a></li><li><a href="#Hammerhead.apply_cached_window!-Union{Tuple{T2}, Tuple{T1}, Tuple{Hammerhead.PIVStageCache{T1}, AbstractArray{T2}, AbstractArray{T2}}} where {T1, T2}"><code>Hammerhead.apply_cached_window!</code></a></li><li><a href="#Hammerhead.apply_local_validator!-Tuple{StructArrays.StructArray{PIVVector}, Hammerhead.LocalValidator}"><code>Hammerhead.apply_local_validator!</code></a></li><li><a href="#Hammerhead.apply_local_validators!-Tuple{StructArrays.StructArray{PIVVector}, Vector{&lt;:Hammerhead.LocalValidator}}"><code>Hammerhead.apply_local_validators!</code></a></li><li><a href="#Hammerhead.apply_vector_replacement!-Tuple{PIVResult}"><code>Hammerhead.apply_vector_replacement!</code></a></li><li><a href="#Hammerhead.apply_window!-Union{Tuple{T}, Tuple{AbstractMatrix{T}, AbstractArray{T}}} where T"><code>Hammerhead.apply_window!</code></a></li><li><a href="#Hammerhead.barycentric_coordinates-NTuple{4, AbstractVector}"><code>Hammerhead.barycentric_coordinates</code></a></li><li><a href="#Hammerhead.build_window-Tuple{Any, Hammerhead.WindowFunction}"><code>Hammerhead.build_window</code></a></li><li><a href="#Hammerhead.calculate_correlation_moment-Tuple{AbstractMatrix, CartesianIndex}"><code>Hammerhead.calculate_correlation_moment</code></a></li><li><a href="#Hammerhead.calculate_quality_metrics-Union{Tuple{T}, Tuple{AbstractMatrix{T}, CartesianIndex, Real}} where T"><code>Hammerhead.calculate_quality_metrics</code></a></li><li><a href="#Hammerhead.classify_hole-Tuple{Vector{CartesianIndex{2}}, NTuple{4, Int64}}"><code>Hammerhead.classify_hole</code></a></li><li><a href="#Hammerhead.detect_garbage_regions-Tuple{StructArrays.StructArray{PIVVector}}"><code>Hammerhead.detect_garbage_regions</code></a></li><li><a href="#Hammerhead.detect_holes-Tuple{StructArrays.StructArray{PIVVector}}"><code>Hammerhead.detect_holes</code></a></li><li><a href="#Hammerhead.fill_symmetric_padding!-Union{Tuple{T}, Tuple{AbstractMatrix{T}, AbstractMatrix{T}, Int64, Int64, Tuple{Int64, Int64}}} where T"><code>Hammerhead.fill_symmetric_padding!</code></a></li><li><a href="#Hammerhead.find_containing_triangle-Tuple{AbstractMatrix, Real, Real}"><code>Hammerhead.find_containing_triangle</code></a></li><li><a href="#Hammerhead.find_local_maxima-Tuple{AbstractMatrix}"><code>Hammerhead.find_local_maxima</code></a></li><li><a href="#Hammerhead.find_secondary_peak-Tuple{AbstractMatrix, CartesianIndex, Real}"><code>Hammerhead.find_secondary_peak</code></a></li><li><a href="#Hammerhead.find_secondary_peak_robust-Tuple{AbstractMatrix, CartesianIndex, Real}"><code>Hammerhead.find_secondary_peak_robust</code></a></li><li><a href="#Hammerhead.generate_interrogation_grid-Tuple{Tuple{Int64, Int64}, Tuple{Int64, Int64}, Tuple{Float64, Float64}}"><code>Hammerhead.generate_interrogation_grid</code></a></li><li><a href="#Hammerhead.generate_window_1d-Tuple{Hammerhead.SimpleWindow, Int64}"><code>Hammerhead.generate_window_1d</code></a></li><li><a href="#Hammerhead.get_timer-Tuple{PIVResult}"><code>Hammerhead.get_timer</code></a></li><li><a href="#Hammerhead.get_valid_mask-Tuple{StructArrays.StructArray{PIVVector}}"><code>Hammerhead.get_valid_mask</code></a></li><li><a href="#Hammerhead.interpolate_vectors-Tuple{PIVResult}"><code>Hammerhead.interpolate_vectors</code></a></li><li><a href="#Hammerhead.is_area_preserving"><code>Hammerhead.is_area_preserving</code></a></li><li><a href="#Hammerhead.is_valid-Tuple{PIVVector, Hammerhead.PeakRatioValidator}"><code>Hammerhead.is_valid</code></a></li><li><a href="#Hammerhead.linear_barycentric_interpolation-Tuple{AbstractMatrix, AbstractVector, AbstractMatrix}"><code>Hammerhead.linear_barycentric_interpolation</code></a></li><li><a href="#Hammerhead.linear_interpolation_2points-Tuple{AbstractMatrix, AbstractVector, AbstractMatrix, Symbol}"><code>Hammerhead.linear_interpolation_2points</code></a></li><li><a href="#Hammerhead.nearest_neighbor_interpolation-Tuple{AbstractMatrix, AbstractVector, AbstractMatrix}"><code>Hammerhead.nearest_neighbor_interpolation</code></a></li><li><a href="#Hammerhead.pad_to_size-Union{Tuple{T}, Tuple{AbstractMatrix{T}, Tuple{Int64, Int64}}} where T"><code>Hammerhead.pad_to_size</code></a></li><li><a href="#Hammerhead.parse_validation_pipeline-Tuple{Tuple}"><code>Hammerhead.parse_validation_pipeline</code></a></li><li><a href="#Hammerhead.parse_validator-Tuple{Hammerhead.PIVValidator}"><code>Hammerhead.parse_validator</code></a></li><li><a href="../function_ref/#Hammerhead.plot_piv-Tuple{AbstractMatrix, PIVResult}"><code>Hammerhead.plot_piv</code></a></li><li><a href="#Hammerhead.process_chunk!-Union{Tuple{T}, Tuple{Hammerhead.PIVStageCache{T}, Any, Any, Any, Any, Any, PIVStage}, Tuple{Hammerhead.PIVStageCache{T}, Any, Any, Any, Any, Any, PIVStage, Any}} where T"><code>Hammerhead.process_chunk!</code></a></li><li><a href="#Hammerhead.replace_vectors!-Tuple{StructArrays.StructArray{PIVVector}, Vector{Hammerhead.HoleRegion}, Hammerhead.IterativeMedian}"><code>Hammerhead.replace_vectors!</code></a></li><li><a href="#Hammerhead.replace_vectors!-Tuple{StructArrays.StructArray{PIVVector}, Hammerhead.HoleRegion, Hammerhead.DelaunayBarycentric}"><code>Hammerhead.replace_vectors!</code></a></li><li><a href="#Hammerhead.replace_vectors!-Tuple{StructArrays.StructArray{PIVVector}, Hammerhead.HoleRegion, Hammerhead.InverseDistanceWeighted}"><code>Hammerhead.replace_vectors!</code></a></li><li><a href="#Hammerhead.replace_vectors!-Tuple{StructArrays.StructArray{PIVVector}, Hammerhead.HoleRegion, Hammerhead.VectorMedian}"><code>Hammerhead.replace_vectors!</code></a></li><li><a href="../function_ref/#Hammerhead.run_piv-Union{Tuple{T}, Tuple{Matrix{T}, Matrix{T}}} where T&lt;:Union{Real, ColorTypes.Gray}"><code>Hammerhead.run_piv</code></a></li><li><a href="#Hammerhead.run_piv_stage-Union{Tuple{T}, Tuple{AbstractMatrix{&lt;:Real}, AbstractMatrix{&lt;:Real}, PIVStage}, Tuple{AbstractMatrix{&lt;:Real}, AbstractMatrix{&lt;:Real}, PIVStage, Type{T}}, Tuple{AbstractMatrix{&lt;:Real}, AbstractMatrix{&lt;:Real}, PIVStage, Type{T}, Any}} where T"><code>Hammerhead.run_piv_stage</code></a></li><li><a href="#Hammerhead.update_valid_mask!-Tuple{BitMatrix, StructArrays.StructArray{PIVVector}}"><code>Hammerhead.update_valid_mask!</code></a></li><li><a href="#Hammerhead.validate_affine_transform-Tuple{AbstractMatrix}"><code>Hammerhead.validate_affine_transform</code></a></li><li><a href="#Hammerhead.validate_vectors!-Tuple{PIVResult, Tuple}"><code>Hammerhead.validate_vectors!</code></a></li></ul><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Hammerhead.analyze_correlation_plane" href="#Hammerhead.analyze_correlation_plane"><code>Hammerhead.analyze_correlation_plane</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">analyze_correlation_plane(correlation_plane) -&gt; (displacement, peak_ratio, correlation_moment)</code></pre><p>Analyze correlation plane to extract displacement and quality metrics at PIV stage level. This allows the same analysis to be applied to results from different correlation algorithms.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/stillyslalom/Hammerhead.jl/blob/c98618bbcdf9894b2c8f110ad3c8a5d14add3777/src/Hammerhead.jl#L1868-L1873">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Hammerhead.apply_cached_window!-Union{Tuple{T2}, Tuple{T1}, Tuple{Hammerhead.PIVStageCache{T1}, AbstractArray{T2}, AbstractArray{T2}}} where {T1, T2}" href="#Hammerhead.apply_cached_window!-Union{Tuple{T2}, Tuple{T1}, Tuple{Hammerhead.PIVStageCache{T1}, AbstractArray{T2}, AbstractArray{T2}}} where {T1, T2}"><code>Hammerhead.apply_cached_window!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">apply_cached_window!(cache, subimg1, subimg2) -&gt; (windowed1, windowed2)</code></pre><p>Apply pre-computed window function to both subimages using pre-allocated buffers. Returns references to the cached windowed image buffers for efficient memory usage.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/stillyslalom/Hammerhead.jl/blob/c98618bbcdf9894b2c8f110ad3c8a5d14add3777/src/Hammerhead.jl#L509-L514">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Hammerhead.apply_local_validator!-Tuple{StructArrays.StructArray{PIVVector}, Hammerhead.LocalValidator}" href="#Hammerhead.apply_local_validator!-Tuple{StructArrays.StructArray{PIVVector}, Hammerhead.LocalValidator}"><code>Hammerhead.apply_local_validator!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">apply_local_validator!(vectors::StructArray{PIVVector}, validator::LocalValidator)</code></pre><p>Apply single local validator to vector field.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/stillyslalom/Hammerhead.jl/blob/c98618bbcdf9894b2c8f110ad3c8a5d14add3777/src/Hammerhead.jl#L878-L882">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Hammerhead.apply_local_validators!-Tuple{StructArrays.StructArray{PIVVector}, Vector{&lt;:Hammerhead.LocalValidator}}" href="#Hammerhead.apply_local_validators!-Tuple{StructArrays.StructArray{PIVVector}, Vector{&lt;:Hammerhead.LocalValidator}}"><code>Hammerhead.apply_local_validators!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">apply_local_validators!(vectors::StructArray{PIVVector}, validators::Vector{&lt;:LocalValidator})</code></pre><p>Batch local validators into single loop for efficiency.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/stillyslalom/Hammerhead.jl/blob/c98618bbcdf9894b2c8f110ad3c8a5d14add3777/src/Hammerhead.jl#L892-L896">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Hammerhead.apply_vector_replacement!-Tuple{PIVResult}" href="#Hammerhead.apply_vector_replacement!-Tuple{PIVResult}"><code>Hammerhead.apply_vector_replacement!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">apply_vector_replacement!(result::PIVResult; method=:iterative_median)</code></pre><p>Apply vector replacement (hole filling) to PIV result. Uses robust iterative median approach by default for inter-stage stability.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/stillyslalom/Hammerhead.jl/blob/c98618bbcdf9894b2c8f110ad3c8a5d14add3777/src/Hammerhead.jl#L845-L850">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Hammerhead.apply_window!-Union{Tuple{T}, Tuple{AbstractMatrix{T}, AbstractArray{T}}} where T" href="#Hammerhead.apply_window!-Union{Tuple{T}, Tuple{AbstractMatrix{T}, AbstractArray{T}}} where T"><code>Hammerhead.apply_window!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">apply_window!(subimage, window) -&gt; windowed_subimage</code></pre><p>Apply windowing array to subimage to reduce spectral leakage in correlation analysis.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/stillyslalom/Hammerhead.jl/blob/c98618bbcdf9894b2c8f110ad3c8a5d14add3777/src/Hammerhead.jl#L212-L216">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Hammerhead.barycentric_coordinates-NTuple{4, AbstractVector}" href="#Hammerhead.barycentric_coordinates-NTuple{4, AbstractVector}"><code>Hammerhead.barycentric_coordinates</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">barycentric_coordinates(p1, p2, p3, query)</code></pre><p>Compute barycentric coordinates of query point with respect to triangle p1-p2-p3.</p><p>Returns (λ1, λ2, λ3) such that query = λ1<em>p1 + λ2</em>p2 + λ3*p3 and λ1 + λ2 + λ3 = 1.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/stillyslalom/Hammerhead.jl/blob/c98618bbcdf9894b2c8f110ad3c8a5d14add3777/src/Hammerhead.jl#L2530-L2536">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Hammerhead.build_window-Tuple{Any, Hammerhead.WindowFunction}" href="#Hammerhead.build_window-Tuple{Any, Hammerhead.WindowFunction}"><code>Hammerhead.build_window</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">build_window(size, window_function) -&gt; window</code></pre><p>Build a 2D window function for the given size using the specified window function type.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/stillyslalom/Hammerhead.jl/blob/c98618bbcdf9894b2c8f110ad3c8a5d14add3777/src/Hammerhead.jl#L197-L201">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Hammerhead.calculate_correlation_moment-Tuple{AbstractMatrix, CartesianIndex}" href="#Hammerhead.calculate_correlation_moment-Tuple{AbstractMatrix, CartesianIndex}"><code>Hammerhead.calculate_correlation_moment</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">calculate_correlation_moment(correlation_magnitudes, peak_location) -&gt; moment</code></pre><p>Calculate normalized second moment of correlation peak as sharpness measure.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/stillyslalom/Hammerhead.jl/blob/c98618bbcdf9894b2c8f110ad3c8a5d14add3777/src/Hammerhead.jl#L1803-L1807">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Hammerhead.calculate_quality_metrics-Union{Tuple{T}, Tuple{AbstractMatrix{T}, CartesianIndex, Real}} where T" href="#Hammerhead.calculate_quality_metrics-Union{Tuple{T}, Tuple{AbstractMatrix{T}, CartesianIndex, Real}} where T"><code>Hammerhead.calculate_quality_metrics</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">calculate_quality_metrics(correlation_plane, peak_location, peak_value; robust=false) -&gt; (peak_ratio, correlation_moment)</code></pre><p>Calculate quality metrics for PIV correlation analysis.</p><p><strong>Arguments</strong></p><ul><li><code>correlation_plane</code> - Complex correlation result matrix</li><li><code>peak_location</code> - CartesianIndex of primary peak location</li><li><code>peak_value</code> - Magnitude of primary peak</li><li><code>robust=false</code> - Use robust local maxima method for secondary peak detection</li></ul><p><strong>Returns</strong></p><ul><li><code>peak_ratio::Float64</code> - Ratio of primary peak to secondary peak (higher is better)</li><li><code>correlation_moment::Float64</code> - Normalized correlation moment (measure of peak sharpness)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/stillyslalom/Hammerhead.jl/blob/c98618bbcdf9894b2c8f110ad3c8a5d14add3777/src/Hammerhead.jl#L550-L564">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Hammerhead.classify_hole-Tuple{Vector{CartesianIndex{2}}, NTuple{4, Int64}}" href="#Hammerhead.classify_hole-Tuple{Vector{CartesianIndex{2}}, NTuple{4, Int64}}"><code>Hammerhead.classify_hole</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">classify_hole(indices, bounding_box) -&gt; Symbol</code></pre><p>Classify hole region based on size and shape characteristics.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/stillyslalom/Hammerhead.jl/blob/c98618bbcdf9894b2c8f110ad3c8a5d14add3777/src/Hammerhead.jl#L1250-L1254">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Hammerhead.detect_garbage_regions-Tuple{StructArrays.StructArray{PIVVector}}" href="#Hammerhead.detect_garbage_regions-Tuple{StructArrays.StructArray{PIVVector}}"><code>Hammerhead.detect_garbage_regions</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">detect_garbage_regions(vectors::StructArray{PIVVector}) -&gt; BitMatrix</code></pre><p>Detect large regions of bad vectors that should be abandoned rather than filled. Uses morphological operations to identify regions too sparse for reliable interpolation.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/stillyslalom/Hammerhead.jl/blob/c98618bbcdf9894b2c8f110ad3c8a5d14add3777/src/Hammerhead.jl#L1616-L1621">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Hammerhead.detect_holes-Tuple{StructArrays.StructArray{PIVVector}}" href="#Hammerhead.detect_holes-Tuple{StructArrays.StructArray{PIVVector}}"><code>Hammerhead.detect_holes</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">detect_holes(vectors::StructArray{PIVVector}) -&gt; Vector{HoleRegion}</code></pre><p>Detect connected components of bad vectors using ImageMorphology.jl.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/stillyslalom/Hammerhead.jl/blob/c98618bbcdf9894b2c8f110ad3c8a5d14add3777/src/Hammerhead.jl#L1205-L1209">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Hammerhead.fill_symmetric_padding!-Union{Tuple{T}, Tuple{AbstractMatrix{T}, AbstractMatrix{T}, Int64, Int64, Tuple{Int64, Int64}}} where T" href="#Hammerhead.fill_symmetric_padding!-Union{Tuple{T}, Tuple{AbstractMatrix{T}, AbstractMatrix{T}, Int64, Int64, Tuple{Int64, Int64}}} where T"><code>Hammerhead.fill_symmetric_padding!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">fill_symmetric_padding!(padded, original, pad_top, pad_left, original_size)</code></pre><p>Fill padding regions using symmetric reflection to avoid discontinuities.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/stillyslalom/Hammerhead.jl/blob/c98618bbcdf9894b2c8f110ad3c8a5d14add3777/src/Hammerhead.jl#L2061-L2065">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Hammerhead.find_containing_triangle-Tuple{AbstractMatrix, Real, Real}" href="#Hammerhead.find_containing_triangle-Tuple{AbstractMatrix, Real, Real}"><code>Hammerhead.find_containing_triangle</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">find_containing_triangle(points, query_x, query_y)</code></pre><p>Find triangle containing the query point and return barycentric coordinates.</p><p>Returns (triangle<em>indices, barycentric</em>coords) or (nothing, nothing) if outside convex hull.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/stillyslalom/Hammerhead.jl/blob/c98618bbcdf9894b2c8f110ad3c8a5d14add3777/src/Hammerhead.jl#L2497-L2503">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Hammerhead.find_local_maxima-Tuple{AbstractMatrix}" href="#Hammerhead.find_local_maxima-Tuple{AbstractMatrix}"><code>Hammerhead.find_local_maxima</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">find_local_maxima(correlation_magnitudes) -&gt; Vector{CartesianIndex}</code></pre><p>Find all local maxima in correlation plane using robust peak detection. Identifies peaks by finding points that are local maxima in their immediate neighborhood, handling both sharp and broad peaks correctly.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/stillyslalom/Hammerhead.jl/blob/c98618bbcdf9894b2c8f110ad3c8a5d14add3777/src/Hammerhead.jl#L1735-L1741">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Hammerhead.find_secondary_peak-Tuple{AbstractMatrix, CartesianIndex, Real}" href="#Hammerhead.find_secondary_peak-Tuple{AbstractMatrix, CartesianIndex, Real}"><code>Hammerhead.find_secondary_peak</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">find_secondary_peak(correlation_magnitudes, primary_location, primary_value) -&gt; secondary_value</code></pre><p>Find the secondary peak in correlation plane, excluding region around primary peak. Uses super-fast approach: find global maximum, then exclude if it&#39;s near primary.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/stillyslalom/Hammerhead.jl/blob/c98618bbcdf9894b2c8f110ad3c8a5d14add3777/src/Hammerhead.jl#L1652-L1657">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Hammerhead.find_secondary_peak_robust-Tuple{AbstractMatrix, CartesianIndex, Real}" href="#Hammerhead.find_secondary_peak_robust-Tuple{AbstractMatrix, CartesianIndex, Real}"><code>Hammerhead.find_secondary_peak_robust</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">find_secondary_peak_robust(correlation_magnitudes, primary_location, primary_value) -&gt; secondary_value</code></pre><p>Find the secondary peak using local maxima detection for robustness in high shear flows. More computationally expensive but handles closely spaced peaks better.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/stillyslalom/Hammerhead.jl/blob/c98618bbcdf9894b2c8f110ad3c8a5d14add3777/src/Hammerhead.jl#L1706-L1711">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Hammerhead.generate_interrogation_grid-Tuple{Tuple{Int64, Int64}, Tuple{Int64, Int64}, Tuple{Float64, Float64}}" href="#Hammerhead.generate_interrogation_grid-Tuple{Tuple{Int64, Int64}, Tuple{Int64, Int64}, Tuple{Float64, Float64}}"><code>Hammerhead.generate_interrogation_grid</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">generate_interrogation_grid(image_size, window_size, overlap) -&gt; (grid_x, grid_y)</code></pre><p>Generate grid of interrogation window center positions.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/stillyslalom/Hammerhead.jl/blob/c98618bbcdf9894b2c8f110ad3c8a5d14add3777/src/Hammerhead.jl#L2231-L2235">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Hammerhead.generate_window_1d-Tuple{Hammerhead.SimpleWindow, Int64}" href="#Hammerhead.generate_window_1d-Tuple{Hammerhead.SimpleWindow, Int64}"><code>Hammerhead.generate_window_1d</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">generate_window_1d(window_function, length) -&gt; window_vector</code></pre><p>Generate 1D window function using DSP.jl implementations for accuracy and performance. Supports both simple and parametric window functions.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/stillyslalom/Hammerhead.jl/blob/c98618bbcdf9894b2c8f110ad3c8a5d14add3777/src/Hammerhead.jl#L232-L237">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Hammerhead.get_timer-Tuple{PIVResult}" href="#Hammerhead.get_timer-Tuple{PIVResult}"><code>Hammerhead.get_timer</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_timer(result::PIVResult) -&gt; TimerOutput</code></pre><p>Get the timer data from a PIV result for analysis or integration with other timing systems. Returns a new TimerOutput if no timing data is available.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/stillyslalom/Hammerhead.jl/blob/c98618bbcdf9894b2c8f110ad3c8a5d14add3777/src/Hammerhead.jl#L123-L128">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Hammerhead.get_valid_mask-Tuple{StructArrays.StructArray{PIVVector}}" href="#Hammerhead.get_valid_mask-Tuple{StructArrays.StructArray{PIVVector}}"><code>Hammerhead.get_valid_mask</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_valid_mask(vectors::StructArray{PIVVector}) -&gt; BitMatrix</code></pre><p>Create mask of currently valid vectors for neighborhood operations.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/stillyslalom/Hammerhead.jl/blob/c98618bbcdf9894b2c8f110ad3c8a5d14add3777/src/Hammerhead.jl#L924-L928">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Hammerhead.interpolate_vectors-Tuple{PIVResult}" href="#Hammerhead.interpolate_vectors-Tuple{PIVResult}"><code>Hammerhead.interpolate_vectors</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">interpolate_vectors(result::PIVResult; method=:linear_barycentric, 
                   target_status=:interpolated, source_status=:good)</code></pre><p>Interpolate vectors in PIV result to replace missing or bad vectors.</p><p><strong>Arguments</strong></p><ul><li><code>result::PIVResult</code>: PIV result to interpolate</li><li><code>method::Symbol</code>: Interpolation method (<code>:linear_barycentric</code>, <code>:nearest</code>)</li><li><code>target_status::Symbol</code>: Status to assign to interpolated vectors</li><li><code>source_status::Symbol</code>: Only use vectors with this status for interpolation</li></ul><p><strong>Returns</strong></p><ul><li>Modified PIVResult with interpolated vectors</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/stillyslalom/Hammerhead.jl/blob/c98618bbcdf9894b2c8f110ad3c8a5d14add3777/src/Hammerhead.jl#L2561-L2575">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Hammerhead.is_area_preserving" href="#Hammerhead.is_area_preserving"><code>Hammerhead.is_area_preserving</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">is_area_preserving(matrix, tolerance=0.1) -&gt; Bool</code></pre><p>Check if a 2×2 matrix preserves area within tolerance. Area preservation means |det(A)| ≈ 1.</p><p><strong>Arguments</strong></p><ul><li><code>matrix::AbstractMatrix</code> - 2×2 transformation matrix</li><li><code>tolerance::Float64</code> - Relative tolerance for determinant check</li></ul><p><strong>Returns</strong></p><ul><li><code>Bool</code> - True if area-preserving within tolerance</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia hljs">is_area_preserving([1.0 0.1; -0.1 1.0])  # true (rotation + small shear)
is_area_preserving([2.0 0.0; 0.0 0.5])   # false (scales area by factor of 1.0 but violates uniformity)
is_area_preserving([1.05 0.0; 0.0 0.95]) # true (small uniform scaling, det ≈ 1.0)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/stillyslalom/Hammerhead.jl/blob/c98618bbcdf9894b2c8f110ad3c8a5d14add3777/src/Hammerhead.jl#L2680-L2699">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Hammerhead.is_valid-Tuple{PIVVector, Hammerhead.PeakRatioValidator}" href="#Hammerhead.is_valid-Tuple{PIVVector, Hammerhead.PeakRatioValidator}"><code>Hammerhead.is_valid</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">is_valid(vector::PIVVector, validator::LocalValidator) -&gt; Bool</code></pre><p>Test if individual vector passes validation criteria.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/stillyslalom/Hammerhead.jl/blob/c98618bbcdf9894b2c8f110ad3c8a5d14add3777/src/Hammerhead.jl#L911-L915">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Hammerhead.linear_barycentric_interpolation-Tuple{AbstractMatrix, AbstractVector, AbstractMatrix}" href="#Hammerhead.linear_barycentric_interpolation-Tuple{AbstractMatrix, AbstractVector, AbstractMatrix}"><code>Hammerhead.linear_barycentric_interpolation</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">linear_barycentric_interpolation(points, values, query_points; fallback_method=:nearest)</code></pre><p>Perform linear barycentric interpolation for scattered 2D data.</p><p>For each query point, finds the triangle containing it and computes the interpolated value using barycentric coordinates. If a point is outside the convex hull, uses fallback method.</p><p><strong>Arguments</strong></p><ul><li><code>points::AbstractMatrix</code>: Nx2 matrix of point coordinates [x y]</li><li><code>values::AbstractVector</code>: N-element vector of values at each point</li><li><code>query_points::AbstractMatrix</code>: Mx2 matrix of query point coordinates</li><li><code>fallback_method::Symbol</code>: Method for points outside convex hull (<code>:nearest</code>, <code>:zero</code>, <code>:nan</code>)</li></ul><p><strong>Returns</strong></p><ul><li><code>Vector</code>: Interpolated values at query points</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/stillyslalom/Hammerhead.jl/blob/c98618bbcdf9894b2c8f110ad3c8a5d14add3777/src/Hammerhead.jl#L2363-L2379">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Hammerhead.linear_interpolation_2points-Tuple{AbstractMatrix, AbstractVector, AbstractMatrix, Symbol}" href="#Hammerhead.linear_interpolation_2points-Tuple{AbstractMatrix, AbstractVector, AbstractMatrix, Symbol}"><code>Hammerhead.linear_interpolation_2points</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">linear_interpolation_2points(points, values, query_points, fallback_method)</code></pre><p>Linear interpolation between two points.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/stillyslalom/Hammerhead.jl/blob/c98618bbcdf9894b2c8f110ad3c8a5d14add3777/src/Hammerhead.jl#L2451-L2455">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Hammerhead.nearest_neighbor_interpolation-Tuple{AbstractMatrix, AbstractVector, AbstractMatrix}" href="#Hammerhead.nearest_neighbor_interpolation-Tuple{AbstractMatrix, AbstractVector, AbstractMatrix}"><code>Hammerhead.nearest_neighbor_interpolation</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">nearest_neighbor_interpolation(points, values, query_points)</code></pre><p>Simple nearest neighbor interpolation.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/stillyslalom/Hammerhead.jl/blob/c98618bbcdf9894b2c8f110ad3c8a5d14add3777/src/Hammerhead.jl#L2648-L2652">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Hammerhead.pad_to_size-Union{Tuple{T}, Tuple{AbstractMatrix{T}, Tuple{Int64, Int64}}} where T" href="#Hammerhead.pad_to_size-Union{Tuple{T}, Tuple{AbstractMatrix{T}, Tuple{Int64, Int64}}} where T"><code>Hammerhead.pad_to_size</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">pad_to_size(subimg, target_size) -&gt; padded_array</code></pre><p>Pad a subimage to match target window size using symmetric padding. Uses the &#39;symmetric&#39; boundary condition which reflects values across the boundary.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/stillyslalom/Hammerhead.jl/blob/c98618bbcdf9894b2c8f110ad3c8a5d14add3777/src/Hammerhead.jl#L2019-L2024">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Hammerhead.parse_validation_pipeline-Tuple{Tuple}" href="#Hammerhead.parse_validation_pipeline-Tuple{Tuple}"><code>Hammerhead.parse_validation_pipeline</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">parse_validation_pipeline(pipeline::Tuple) -&gt; Tuple of PIVValidators</code></pre><p>Convert validation pipeline tuple to validator objects. Uses tuple to distinguish from multi-stage PIV vector parameters.</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs"># Object syntax
pipeline = (PeakRatioValidator(1.2), LocalMedianValidator(3, 2.0))

# Pair syntax  
pipeline = (:peak_ratio =&gt; 1.2, :local_median =&gt; (window_size=3, threshold=2.0))</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/stillyslalom/Hammerhead.jl/blob/c98618bbcdf9894b2c8f110ad3c8a5d14add3777/src/Hammerhead.jl#L753-L767">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Hammerhead.parse_validator-Tuple{Hammerhead.PIVValidator}" href="#Hammerhead.parse_validator-Tuple{Hammerhead.PIVValidator}"><code>Hammerhead.parse_validator</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">parse_validator(spec) -&gt; PIVValidator</code></pre><p>Convert user specification to validator object. Supports both object syntax and pair syntax.</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs"># Object syntax
parse_validator(PeakRatioValidator(1.2))

# Pair syntax
parse_validator(:peak_ratio =&gt; 1.2)
parse_validator(:local_median =&gt; (window_size=3, threshold=2.0))</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/stillyslalom/Hammerhead.jl/blob/c98618bbcdf9894b2c8f110ad3c8a5d14add3777/src/Hammerhead.jl#L709-L724">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Hammerhead.process_chunk!-Union{Tuple{T}, Tuple{Hammerhead.PIVStageCache{T}, Any, Any, Any, Any, Any, PIVStage}, Tuple{Hammerhead.PIVStageCache{T}, Any, Any, Any, Any, Any, PIVStage, Any}} where T" href="#Hammerhead.process_chunk!-Union{Tuple{T}, Tuple{Hammerhead.PIVStageCache{T}, Any, Any, Any, Any, Any, PIVStage}, Tuple{Hammerhead.PIVStageCache{T}, Any, Any, Any, Any, Any, PIVStage, Any}} where T"><code>Hammerhead.process_chunk!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">process_chunk!(cache, chunk, grid_x, grid_y, img1, img2, stage, timer=nothing)</code></pre><p>Process a chunk of interrogation windows using the provided cache. Optionally uses timer for detailed performance tracking (thread 1 only).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/stillyslalom/Hammerhead.jl/blob/c98618bbcdf9894b2c8f110ad3c8a5d14add3777/src/Hammerhead.jl#L2112-L2117">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Hammerhead.replace_vectors!-Tuple{StructArrays.StructArray{PIVVector}, Hammerhead.HoleRegion, Hammerhead.DelaunayBarycentric}" href="#Hammerhead.replace_vectors!-Tuple{StructArrays.StructArray{PIVVector}, Hammerhead.HoleRegion, Hammerhead.DelaunayBarycentric}"><code>Hammerhead.replace_vectors!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">replace_vectors!(vectors::StructArray{PIVVector}, hole::HoleRegion, method::DelaunayBarycentric)</code></pre><p>Replace large/irregular holes using Delaunay triangulation with barycentric interpolation. Uses morphological operations to efficiently find boundary good pixels.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/stillyslalom/Hammerhead.jl/blob/c98618bbcdf9894b2c8f110ad3c8a5d14add3777/src/Hammerhead.jl#L1449-L1454">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Hammerhead.replace_vectors!-Tuple{StructArrays.StructArray{PIVVector}, Hammerhead.HoleRegion, Hammerhead.InverseDistanceWeighted}" href="#Hammerhead.replace_vectors!-Tuple{StructArrays.StructArray{PIVVector}, Hammerhead.HoleRegion, Hammerhead.InverseDistanceWeighted}"><code>Hammerhead.replace_vectors!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">replace_vectors!(vectors::StructArray{PIVVector}, hole::HoleRegion, method::InverseDistanceWeighted)</code></pre><p>Replace small cluster holes using inverse distance weighted interpolation. Efficient method for clusters ≤2×2.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/stillyslalom/Hammerhead.jl/blob/c98618bbcdf9894b2c8f110ad3c8a5d14add3777/src/Hammerhead.jl#L1372-L1377">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Hammerhead.replace_vectors!-Tuple{StructArrays.StructArray{PIVVector}, Hammerhead.HoleRegion, Hammerhead.VectorMedian}" href="#Hammerhead.replace_vectors!-Tuple{StructArrays.StructArray{PIVVector}, Hammerhead.HoleRegion, Hammerhead.VectorMedian}"><code>Hammerhead.replace_vectors!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">replace_vectors!(vectors::StructArray{PIVVector}, hole::HoleRegion, method::VectorMedian)</code></pre><p>Replace isolated holes using median of neighboring good vectors. Fast method for single bad vectors.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/stillyslalom/Hammerhead.jl/blob/c98618bbcdf9894b2c8f110ad3c8a5d14add3777/src/Hammerhead.jl#L1320-L1325">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Hammerhead.replace_vectors!-Tuple{StructArrays.StructArray{PIVVector}, Vector{Hammerhead.HoleRegion}, Hammerhead.IterativeMedian}" href="#Hammerhead.replace_vectors!-Tuple{StructArrays.StructArray{PIVVector}, Vector{Hammerhead.HoleRegion}, Hammerhead.IterativeMedian}"><code>Hammerhead.replace_vectors!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">replace_vectors!(vectors::StructArray{PIVVector}, holes::Vector{HoleRegion}, method::IterativeMedian)</code></pre><p>Iteratively fill all holes using robust median-based interpolation. Processes all holes together with multiple passes for stable convergence.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/stillyslalom/Hammerhead.jl/blob/c98618bbcdf9894b2c8f110ad3c8a5d14add3777/src/Hammerhead.jl#L1529-L1534">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Hammerhead.run_piv_stage-Union{Tuple{T}, Tuple{AbstractMatrix{&lt;:Real}, AbstractMatrix{&lt;:Real}, PIVStage}, Tuple{AbstractMatrix{&lt;:Real}, AbstractMatrix{&lt;:Real}, PIVStage, Type{T}}, Tuple{AbstractMatrix{&lt;:Real}, AbstractMatrix{&lt;:Real}, PIVStage, Type{T}, Any}} where T" href="#Hammerhead.run_piv_stage-Union{Tuple{T}, Tuple{AbstractMatrix{&lt;:Real}, AbstractMatrix{&lt;:Real}, PIVStage}, Tuple{AbstractMatrix{&lt;:Real}, AbstractMatrix{&lt;:Real}, PIVStage, Type{T}}, Tuple{AbstractMatrix{&lt;:Real}, AbstractMatrix{&lt;:Real}, PIVStage, Type{T}, Any}} where T"><code>Hammerhead.run_piv_stage</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">run_piv_stage(img1, img2, stage, ::Type{T}=Float32) -&gt; PIVResult</code></pre><p>Perform PIV analysis for a single stage with parallel processing using ChunkSplitters.jl. Pre-allocates per-thread caches and merges results efficiently.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/stillyslalom/Hammerhead.jl/blob/c98618bbcdf9894b2c8f110ad3c8a5d14add3777/src/Hammerhead.jl#L2174-L2179">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Hammerhead.update_valid_mask!-Tuple{BitMatrix, StructArrays.StructArray{PIVVector}}" href="#Hammerhead.update_valid_mask!-Tuple{BitMatrix, StructArrays.StructArray{PIVVector}}"><code>Hammerhead.update_valid_mask!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">update_valid_mask!(mask::BitMatrix, vectors::StructArray{PIVVector})</code></pre><p>Update validity mask after validation step.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/stillyslalom/Hammerhead.jl/blob/c98618bbcdf9894b2c8f110ad3c8a5d14add3777/src/Hammerhead.jl#L938-L942">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Hammerhead.validate_affine_transform-Tuple{AbstractMatrix}" href="#Hammerhead.validate_affine_transform-Tuple{AbstractMatrix}"><code>Hammerhead.validate_affine_transform</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">validate_affine_transform(transform_matrix; tolerance=0.1) -&gt; Bool</code></pre><p>Validate an affine transformation matrix for use in iterative deformation. Checks area preservation and other physical constraints.</p><p><strong>Arguments</strong></p><ul><li><code>transform_matrix::AbstractMatrix</code> - 2×2 or 3×3 affine transformation matrix</li><li><code>tolerance::Float64</code> - Tolerance for area preservation check (default: 0.1)</li></ul><p><strong>Returns</strong></p><ul><li><code>Bool</code> - True if transform is valid, false otherwise</li></ul><p><strong>Validation Criteria</strong></p><ul><li>Area preservation: |det(A)| ≈ 1 within tolerance</li><li>No excessive shear or rotation (condition number check)</li><li>Finite and real values only</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia hljs"># Valid identity transform
A = [1.0 0.0; 0.0 1.0]
validate_affine_transform(A)  # true

# Invalid transform (not area-preserving)
A = [2.0 0.0; 0.0 0.5]  # det = 1.0, but stretches by 2x and compresses by 0.5x
validate_affine_transform(A)  # false

# Valid small deformation
A = [1.05 0.02; -0.01 0.98]  # Small rotation and stretch
validate_affine_transform(A)  # likely true depending on tolerance</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/stillyslalom/Hammerhead.jl/blob/c98618bbcdf9894b2c8f110ad3c8a5d14add3777/src/Hammerhead.jl#L2270-L2302">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Hammerhead.validate_vectors!-Tuple{PIVResult, Tuple}" href="#Hammerhead.validate_vectors!-Tuple{PIVResult, Tuple}"><code>Hammerhead.validate_vectors!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">validate_vectors!(result::PIVResult, validation_pipeline::Tuple)</code></pre><p>Apply validation pipeline to PIV result, optimizing for performance. Local validators are batched together, neighborhood validators applied separately.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/stillyslalom/Hammerhead.jl/blob/c98618bbcdf9894b2c8f110ad3c8a5d14add3777/src/Hammerhead.jl#L776-L781">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Hammerhead.AbstractReplacementMethod" href="#Hammerhead.AbstractReplacementMethod"><code>Hammerhead.AbstractReplacementMethod</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">AbstractReplacementMethod</code></pre><p>Abstract base type for vector replacement methods.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/stillyslalom/Hammerhead.jl/blob/c98618bbcdf9894b2c8f110ad3c8a5d14add3777/src/Hammerhead.jl#L1274-L1278">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Hammerhead.CorrelationMomentValidator" href="#Hammerhead.CorrelationMomentValidator"><code>Hammerhead.CorrelationMomentValidator</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">CorrelationMomentValidator(threshold::Float64)</code></pre><p>Validates vectors based on correlation moment (peak sharpness). Higher moments indicate sharper, more reliable peaks.</p><p><strong>Arguments</strong></p><ul><li><code>threshold</code>: Minimum acceptable correlation moment (typically 0.1-0.5)</li></ul><p><strong>Example</strong></p><pre><code class="language-julia hljs">validator = CorrelationMomentValidator(0.2)  # Require moment ≥ 0.2</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/stillyslalom/Hammerhead.jl/blob/c98618bbcdf9894b2c8f110ad3c8a5d14add3777/src/Hammerhead.jl#L630-L643">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Hammerhead.DelaunayBarycentric" href="#Hammerhead.DelaunayBarycentric"><code>Hammerhead.DelaunayBarycentric</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">DelaunayBarycentric &lt;: AbstractReplacementMethod</code></pre><p>Delaunay triangulation with barycentric interpolation for large/irregular holes.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/stillyslalom/Hammerhead.jl/blob/c98618bbcdf9894b2c8f110ad3c8a5d14add3777/src/Hammerhead.jl#L1298-L1302">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Hammerhead.HoleRegion" href="#Hammerhead.HoleRegion"><code>Hammerhead.HoleRegion</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">HoleRegion</code></pre><p>Represents a region of bad/missing vectors that needs replacement.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/stillyslalom/Hammerhead.jl/blob/c98618bbcdf9894b2c8f110ad3c8a5d14add3777/src/Hammerhead.jl#L1194-L1198">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Hammerhead.InverseDistanceWeighted" href="#Hammerhead.InverseDistanceWeighted"><code>Hammerhead.InverseDistanceWeighted</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">InverseDistanceWeighted &lt;: AbstractReplacementMethod</code></pre><p>Inverse distance weighted interpolation for small clusters (≤2×2).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/stillyslalom/Hammerhead.jl/blob/c98618bbcdf9894b2c8f110ad3c8a5d14add3777/src/Hammerhead.jl#L1288-L1292">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Hammerhead.IterativeMedian" href="#Hammerhead.IterativeMedian"><code>Hammerhead.IterativeMedian</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">IterativeMedian &lt;: AbstractReplacementMethod</code></pre><p>Iterative median-filling approach for robust inter-stage interpolation. Based on commercial PIV practices for maximum stability.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/stillyslalom/Hammerhead.jl/blob/c98618bbcdf9894b2c8f110ad3c8a5d14add3777/src/Hammerhead.jl#L1305-L1310">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Hammerhead.LocalMedianValidator" href="#Hammerhead.LocalMedianValidator"><code>Hammerhead.LocalMedianValidator</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">LocalMedianValidator(window_size::Int, threshold::Float64)</code></pre><p>Validates vectors against median of local neighborhood. Vectors deviating more than <code>threshold</code> standard deviations from local median are marked as outliers.</p><p><strong>Arguments</strong></p><ul><li><code>window_size</code>: Radius of neighborhood window (e.g., 3 = 7×7 window)</li><li><code>threshold</code>: Deviation threshold in standard deviations (typically 2-3)</li></ul><p><strong>Example</strong></p><pre><code class="language-julia hljs">validator = LocalMedianValidator(3, 2.0)  # 7×7 window, 2σ threshold</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/stillyslalom/Hammerhead.jl/blob/c98618bbcdf9894b2c8f110ad3c8a5d14add3777/src/Hammerhead.jl#L668-L683">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Hammerhead.LocalValidator" href="#Hammerhead.LocalValidator"><code>Hammerhead.LocalValidator</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Validators that examine individual vector properties without considering neighbors. These can be efficiently batched together in a single loop.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/stillyslalom/Hammerhead.jl/blob/c98618bbcdf9894b2c8f110ad3c8a5d14add3777/src/Hammerhead.jl#L600-L603">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Hammerhead.NeighborhoodValidator" href="#Hammerhead.NeighborhoodValidator"><code>Hammerhead.NeighborhoodValidator</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Validators that examine vectors relative to their spatial neighbors. These require knowledge of surrounding valid vectors and are applied separately.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/stillyslalom/Hammerhead.jl/blob/c98618bbcdf9894b2c8f110ad3c8a5d14add3777/src/Hammerhead.jl#L606-L609">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Hammerhead.NormalizedResidualValidator" href="#Hammerhead.NormalizedResidualValidator"><code>Hammerhead.NormalizedResidualValidator</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">NormalizedResidualValidator(window_size::Int, threshold::Float64)</code></pre><p>Validates vectors using normalized residual against local interpolated field. More sophisticated than median test, accounts for local flow gradients.</p><p><strong>Arguments</strong></p><ul><li><code>window_size</code>: Radius of neighborhood for interpolation</li><li><code>threshold</code>: Normalized residual threshold (typically 2-4)</li></ul><p><strong>Example</strong></p><pre><code class="language-julia hljs">validator = NormalizedResidualValidator(5, 3.0)  # 11×11 window, 3σ threshold</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/stillyslalom/Hammerhead.jl/blob/c98618bbcdf9894b2c8f110ad3c8a5d14add3777/src/Hammerhead.jl#L689-L703">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Hammerhead.PIVStageCache" href="#Hammerhead.PIVStageCache"><code>Hammerhead.PIVStageCache</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">PIVStageCache{T, C}</code></pre><p>Per-thread computational cache for PIV stage processing. Contains pre-computed resources to avoid repeated allocations and enable thread-safe parallel processing.</p><p><strong>Fields</strong></p><ul><li><code>window::Matrix{T}</code> - Pre-computed window function matrix</li><li><code>correlator::C</code> - Thread-local correlator with FFT plans</li><li><code>vectors::Vector{PIVVector}</code> - Pre-allocated storage for results</li><li><code>windowed_img1::Matrix{T}</code> - Pre-allocated buffer for windowed subimage 1</li><li><code>windowed_img2::Matrix{T}</code> - Pre-allocated buffer for windowed subimage 2</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/stillyslalom/Hammerhead.jl/blob/c98618bbcdf9894b2c8f110ad3c8a5d14add3777/src/Hammerhead.jl#L465-L477">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Hammerhead.PIVStageCache-Union{Tuple{PIVStage}, Tuple{T}, Tuple{PIVStage, Type{T}}} where T" href="#Hammerhead.PIVStageCache-Union{Tuple{PIVStage}, Tuple{T}, Tuple{PIVStage, Type{T}}} where T"><code>Hammerhead.PIVStageCache</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">PIVStageCache(stage::PIVStage, ::Type{T}=Float32) -&gt; PIVStageCache{T, CrossCorrelator{T}}</code></pre><p>Create a per-thread computational cache from a PIV stage configuration. Pre-computes the window function matrix and initializes thread-local correlator.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/stillyslalom/Hammerhead.jl/blob/c98618bbcdf9894b2c8f110ad3c8a5d14add3777/src/Hammerhead.jl#L486-L491">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Hammerhead.PIVValidator" href="#Hammerhead.PIVValidator"><code>Hammerhead.PIVValidator</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Abstract base type for PIV vector validation algorithms.</p><p>Validators are applied sequentially to filter out unreliable displacement vectors. Two main categories exist:</p><ul><li><code>LocalValidator</code>: Tests individual vectors against thresholds (fast)</li><li><code>NeighborhoodValidator</code>: Tests vectors against local neighborhood statistics (slower)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/stillyslalom/Hammerhead.jl/blob/c98618bbcdf9894b2c8f110ad3c8a5d14add3777/src/Hammerhead.jl#L590-L597">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Hammerhead.PeakRatioValidator" href="#Hammerhead.PeakRatioValidator"><code>Hammerhead.PeakRatioValidator</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">PeakRatioValidator(threshold::Float64)</code></pre><p>Validates vectors based on correlation peak ratio (primary/secondary peak). Higher ratios indicate more reliable correlations.</p><p><strong>Arguments</strong></p><ul><li><code>threshold</code>: Minimum acceptable peak ratio (typically 1.1-1.5)</li></ul><p><strong>Example</strong></p><pre><code class="language-julia hljs">validator = PeakRatioValidator(1.2)  # Require peak ratio ≥ 1.2</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/stillyslalom/Hammerhead.jl/blob/c98618bbcdf9894b2c8f110ad3c8a5d14add3777/src/Hammerhead.jl#L612-L625">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Hammerhead.VectorMedian" href="#Hammerhead.VectorMedian"><code>Hammerhead.VectorMedian</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">VectorMedian &lt;: AbstractReplacementMethod</code></pre><p>Fast median-based replacement for isolated (1×1) holes.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/stillyslalom/Hammerhead.jl/blob/c98618bbcdf9894b2c8f110ad3c8a5d14add3777/src/Hammerhead.jl#L1281-L1285">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Hammerhead.VelocityMagnitudeValidator" href="#Hammerhead.VelocityMagnitudeValidator"><code>Hammerhead.VelocityMagnitudeValidator</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">VelocityMagnitudeValidator(min::Float64, max::Float64)</code></pre><p>Validates vectors based on displacement magnitude bounds. Filters out physically unrealistic displacements.</p><p><strong>Arguments</strong></p><ul><li><code>min</code>: Minimum acceptable displacement magnitude</li><li><code>max</code>: Maximum acceptable displacement magnitude</li></ul><p><strong>Example</strong></p><pre><code class="language-julia hljs">validator = VelocityMagnitudeValidator(0.1, 50.0)  # Magnitude between 0.1-50 pixels</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/stillyslalom/Hammerhead.jl/blob/c98618bbcdf9894b2c8f110ad3c8a5d14add3777/src/Hammerhead.jl#L648-L662">source</a></section></article><h2 id="Synthetic-Data"><a class="docs-heading-anchor" href="#Synthetic-Data">Synthetic Data</a><a id="Synthetic-Data-1"></a><a class="docs-heading-anchor-permalink" href="#Synthetic-Data" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Hammerhead.SyntheticData.displace_particles" href="#Hammerhead.SyntheticData.displace_particles"><code>Hammerhead.SyntheticData.displace_particles</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">displace_particles(particles::ParticleField3D, velocity_function, dt::Real, t::Real=0.0) -&gt; ParticleField3D</code></pre><p>Create a new ParticleField3D with particles displaced according to the velocity function.</p><p><strong>Arguments</strong></p><ul><li><code>particles</code>: ParticleField3D to displace</li><li><code>velocity_function</code>: Function with signature (x, y, z, t) -&gt; (u, v, w)</li><li><code>dt</code>: Time step</li><li><code>t</code>: Current time (default 0.0)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/stillyslalom/Hammerhead.jl/blob/c98618bbcdf9894b2c8f110ad3c8a5d14add3777/src/synthetic_data.jl#L192-L202">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Hammerhead.SyntheticData.laser_intensity-Tuple{Hammerhead.SyntheticData.GaussianLaserSheet, Real}" href="#Hammerhead.SyntheticData.laser_intensity-Tuple{Hammerhead.SyntheticData.GaussianLaserSheet, Real}"><code>Hammerhead.SyntheticData.laser_intensity</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">laser_intensity(laser::LaserSheet, z) -&gt; intensity_multiplier</code></pre><p>Calculate the laser intensity multiplier at z-position.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/stillyslalom/Hammerhead.jl/blob/c98618bbcdf9894b2c8f110ad3c8a5d14add3777/src/synthetic_data.jl#L110-L114">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../function_ref/">« Function Reference</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.14.1 on <span class="colophon-date" title="Sunday 27 July 2025 20:44">Sunday 27 July 2025</span>. Using Julia version 1.11.6.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
